def similar_users_query(user): 
    # Pass user object, return query to get users who starred same things as them
    query = """
    select  others.user_id
            , others.starred_repo_id
            , repo.repo_name
            , repo.description
            , repo.last_modified
            , repo.language
            , repo.stargazers_count
            , repo.forks_count
            , repo.from_hacker_news
    from
        (select user_id
                , starred_repo_id
        from github_user_starred_repos
        where user_id != {0}) others
    join
        (select  starred_repo_id
        from github_user_starred_repos
        where user_id = {0}) usr
    on others.starred_repo_id=usr.starred_repo_id
    join
        (select id
                , repo_name
                , description
                , last_modified
                , language
                , stargazers_count
                , forks_count
                , from_hacker_news
        from github_repos) repos
    on others.starred_repo_id=repos.id
    """.format(user.id)
    return query
